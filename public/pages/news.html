<html>
<head>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
</head>
<body>
    <div id='news-container'>

    </div>
    
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.rawgit.com/alexcorvi/anchorme.js/gh-pages/dist-browser/anchorme.js"></script>
    <script src='/js/webService.js'></script>
    <script>
        'use strict'
        document.addEventListener("DOMContentLoaded", ready);
        function ready(){
            var container = document.getElementById('news-container');
            container.classList.add('wall_text');
            webService.getNews()
            .then(function(news) {
                    for (var i = 0; i < news.length; i++) {
                        var outerDiv = document.createElement("div");
                        outerDiv.classList.add('post');
                        outerDiv.innerHTML = (anchorme ? anchorme(news[i].text) : news[i].text) + '<br/>'; //find urls and anchor it
                        if (news[i].photos){                                
                            console.log(news[i].photos);
                            for (var j = 0; j < news[i].photos.length; j++){
                                var img = document.createElement("img");
                                img.src = news[i].photos[j].src;
                                // img.width = news[i].photos[j].width;
                                // img.height = news[i].photos[j].height;
                                outerDiv.appendChild(img);
                            }
                        }
                        container.appendChild(outerDiv);
                    }
                });
        }
    </script>
</body>
</html>